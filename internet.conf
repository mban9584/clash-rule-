[General]
# è·³è¿‡æœ¬åœ°åœ°å€æˆ–æµ‹è¯•åœ°å€
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local, *.test
exclude-simple-hostnames = true

# åœ¨ä¸­å›½
internet-test-url = https://www.g.cn/
proxy-test-url = https://www.g.cn/
dns-server = 223.5.5.5, 223.6.6.6, 2400:3200::1, 2400:3200:baba::1
encrypted-dns-server = https://dns.alidns.com/dns-query

# ä¸åœ¨ä¸­å›½
# internet-test-url = https://www.google.com/
# proxy-test-url = https://www.google.com/
# dns-server = 8.8.8.8, 8.8.4.4, 2001:4860:4860::8888, 2001:4860:4860::8844
# encrypted-dns-server = https://dns.google/dns-query

test-timeout = 2
read-etc-hosts = true
ipv6 = true
ipv6-vif = auto
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153

// https://sub.store/download/collection/nodes?target=SurgeMac
proxy-restricted-to-lan = false

[Proxy Group]
# Base
Default = select, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac
Auto Select = url-test, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50

# AD
Advertisement = select, REJECT
Applications AD = select, REJECT

# Software and Applications
Apple = select, "ğŸ‡¨ğŸ‡³ China", "ğŸ†“ Not China", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡­ğŸ‡° Hong Kong SAR", DIRECT, REJECT
Apple Intelligence = select, "ğŸ†“ Not China", "ğŸ¤– AI Free", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡ºğŸ‡² United States", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡°ğŸ‡· South Korea", "ğŸ‡¸ğŸ‡¬ Singapore", DIRECT, REJECT
Google FCM = select, "ğŸ†“ Not China", DIRECT, REJECT
Steam = select, "ğŸ†“ Not China", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡­ğŸ‡° Hong Kong SAR", DIRECT, REJECT
Telegram = select, "ğŸ†“ Not China", DIRECT, REJECT
Bilibili = select, "ğŸ‡¨ğŸ‡³ China", "ğŸ†“ Not China", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡­ğŸ‡° Hong Kong SAR", "Hong Kong SAR and Macao SAR and Taiwan", DIRECT, REJECT
Netflix = select, "ğŸ†“ Not China", DIRECT, REJECT
OpenAI = select, "ğŸ†“ Not China", "ğŸ¤– AI Free", "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡ºğŸ‡² United States", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡°ğŸ‡· South Korea", "ğŸ‡¸ğŸ‡¬ Singapore", DIRECT, REJECT
Disney+ = select, "ğŸ†“ Not China", DIRECT, REJECT
Apple TV+ = select, "ğŸ†“ Not China", DIRECT, REJECT
HBO = select, "ğŸ†“ Not China", DIRECT, REJECT
Hulu = select, "ğŸ†“ Not China", DIRECT, REJECT

# Countries
ğŸ‡¨ğŸ‡³ China = select, DIRECT
ğŸ†“ Not China = select, "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡­ğŸ‡° Hong Kong SAR", "ğŸ‡ºğŸ‡² United States", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡°ğŸ‡· South Korea", "ğŸ‡¸ğŸ‡¬ Singapore", DIRECT, REJECT
ğŸ¤– AI Free = select, "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡ºğŸ‡² United States", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡°ğŸ‡· South Korea", "ğŸ‡¸ğŸ‡¬ Singapore", DIRECT, REJECT
Hong Kong SAR and Macao SAR and Taiwan = select, "ğŸ‡¹ğŸ‡¼ Taiwan", "ğŸ‡­ğŸ‡° Hong Kong SAR"
ğŸ‡¹ğŸ‡¼ Taiwan = url-test, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, policy-regex-filter=(ğŸ‡¹ğŸ‡¼)|(å°)|(è‡º)|(Taiwan)|(TW), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
ğŸ‡­ğŸ‡° Hong Kong SAR = url-test, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, policy-regex-filter=(ğŸ‡­ğŸ‡°)|(æ¸¯)|(Hong)|(Kong)|(HK), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
ğŸ‡ºğŸ‡² United States = url-test, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, policy-regex-filter=(ğŸ‡ºğŸ‡¸)|(ç¾)|(States)|(US), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
ğŸ‡¯ğŸ‡µ Japan = url-test, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, policy-regex-filter=(ğŸ‡¯ğŸ‡µ)|(æ—¥)|(Japan)|(JP), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
ğŸ‡°ğŸ‡· South Korea = url-test, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, policy-regex-filter=(ğŸ‡°ğŸ‡·)|(éŸ©)|(Korea)|(KR), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
ğŸ‡¸ğŸ‡¬ Singapore = url-test, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, policy-regex-filter=(ğŸ‡¸ğŸ‡¬)|(æ–°)|(å¡)|(Singapore)|(SG), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
# ğŸ‡®ğŸ‡³ India
# ğŸ‡µğŸ‡° Pakistan
# ğŸ‡²ğŸ‡¾ Malaysia
# ğŸ‡»ğŸ‡³ Vietnam
# ğŸ‡±ğŸ‡° Sri Lanka
# ğŸ‡ºğŸ‡¦ Ukraine
# ğŸ‡·ğŸ‡º Russia = url-test, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, policy-regex-filter=(ğŸ‡·ğŸ‡º)|(ä¿„)|(Russia), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
# ğŸ‡°ğŸ‡µ DPR Korea
# Africa
# ğŸ‡®ğŸ‡± Israel
# ğŸ‡®ğŸ‡· Iran
# ğŸ‡²ğŸ‡´ Macao SAR
# ğŸ‡¨ğŸ‡¦ Canada
# ğŸ‡¦ğŸ‡º Australia

# ğŸ¥ Netflix = select, policy-path=https://sub.store/download/collection/nodes?target=SurgeMac, policy-regex-filter=(NF)|(å¥ˆé£)|(Netflix)|(video)|(Video)|(nf), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150

[Rule]
# RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/blocked.list,Proxy
# RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/cn.list,DIRECT
DOMAIN,apps.apple.com,Apple
DOMAIN-SUFFIX,ls.apple.com,Apple
DOMAIN-SUFFIX,store.apple.com,Apple
DOMAIN,guzzoni.smoot.apple.com,Apple
DOMAIN-SUFFIX,icloud.com,Apple
RULE-SET,SYSTEM,Default
# RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/apple.list,Proxy

// Apple Intelligence | Thanks ğ•@levineeet
DOMAIN,apple-relay.apple.com,"Apple Intelligence"
DOMAIN,cp4.cloudflare.com,"Apple Intelligence"
DOMAIN,apple-relay.fastly-edge.com,"Apple Intelligence"
DOMAIN,apple-relay.cloudflare.com,"Apple Intelligence"
DOMAIN,guzzoni.apple.com,"Apple Intelligence"
DOMAIN-SUFFIX,smoot.apple.com,"Apple Intelligence"

// Rules
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list,Advertisement,"update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list,"Applications AD","update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list,Apple,"update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list,"Google FCM","update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list,"ğŸ‡¨ğŸ‡³ China","update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list,Steam,"update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list,"ğŸ‡¨ğŸ‡³ China","update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list,Bilibili,"update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list,Bilibili,"update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list,Telegram,"update-interval=86400"
# RULE-SET, https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list,OneDrive,"update-interval=86400"
# RULE-SET, https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list,Microsoft,"update-interval=86400"
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list,OpenAI,"update-interval=86400"
# RULE-SET, https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Sony.list,SONY,"update-interval=86400"
# RULE-SET, https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Nintendo.list,Nintendo,"update-interval=86400"
# RULE-SET, https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list,YouTube,"update-interval=86400"
# RULE-SET, https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list,Netflix,"update-interval=86400"
# RULE-SET, https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bahamut.list,Bahamut, update-interval=86400

// Local DNS
RULE-SET,LAN,DIRECT
# GEOIP,CN,DIRECT
FINAL,Default
